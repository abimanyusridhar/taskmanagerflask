<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Task Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            /* background-color: #dbfdff; */
            background-image: url('https://static.vecteezy.com/system/resources/thumbnails/002/058/253/small_2x/abstract-polygonal-white-background-free-vector.jpg');
            
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            /* background-color: #bbe1ff; */
            background-image: url('https://t4.ftcdn.net/jpg/03/85/88/41/360_F_385884179_8mA6rX2pc4dmhoNF7zgPqI4ctcVk2um0.jpg');
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .navbar {
            /* background-color: #9695ee; */
            background-image: url('https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTOCOCUZwhArhbUWHaX1SjwRAp-t3VP66Ex_52a8nhOB4wkQuTA');
            padding: 10px;
            border-radius: 0;
        }
        .navbar-brand {
            color: #000000;
            font-size: 24px;
            font-weight: bold;
        }
        .navbar-nav {
            margin-left: auto;
            /* background-color: #000000;*/
        }
        .nav-item {
            margin-right: 10px;
            /* background-color: #b3b1b1; */
        }
        .jumbotron {
            background-color: #caccd5;
            /* background-image: url('https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSuhKgoolFnb2NYkROfSH6nnm_kxgMCTC7rEyqVLrQ8sbPwoszD'); */
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }
        .card {
            /* background-color: #007bff; */
            background-image: url('data:image/jpeg;base64,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');
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .card-header {
            background-color: #31d9e6;
            color: #2a2929;
            border-radius: 10px 10px 0 0;
        }
        .card-body {
            padding: 20px;
        }
        .form-label {
            font-weight: bold;
            color: #333;
        }
        .btn-primary {
            background-color: #5ee2f1;
            border: none;
            border-radius: 5px;
        }
        .btn-primary:hover {
            background-color: #5eb5d5;
        }
        .task-item {
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            background-image: url('https://img.freepik.com/premium-vector/abstract-polygonal-tirangle-pattern-background_536326-171.jpg?size=626&ext=jpg&ga=GA1.1.1880011253.1698883200&semt=ais');
        }
        /* .task-item:hover {
            /* background-color: #e9cece; */
        /* } */ */
        .task-actions {
            text-align: right;
        }
        .task-actions button {
            margin-left: 10px;
            display: inline-block;
        }
        .success {
            color: #32d357;
        }
        .error {
            color: #ef7581;
        }
        .info {
            color: #17a2b8;
        }
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #f5a5f5;
        }
        .footer a {
            color: #ba40ea;
            text-decoration: none;
        }
        .about-section {
            margin-top: 50px;
            padding: 20px;
            /* background-color: #b2e4ee; */
            background-image: url('https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRHRW6lY_7FX1DyO4uWyJys7jRyuRF37cUXN_74d8sMrDnU0AHH');
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Student Task Manager</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Tasks</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="jumbotron text-center">
        <!-- background-image:url('') -->
        <h1>Welcome to Student Task Manager</h1>
        <p>A simple and efficient way to manage your tasks as a student.</p>
    </div>

    <div class="container">
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        Create Task
                    </div>
                    <div class="card-body">
                        <form id="createTaskForm" action="{{ url_for('create_task') }}" method="post">
                            <div class="mb-3">
                                <label for="title" class="form-label">Title:</label>
                                <input type="text" class="form-control" id="title" name="title">
                            </div>
                            <div class="mb-3">
                                <label for="description" class="form-label">Description:</label>
                                <textarea class="form-control" id="description" name="description"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="due_date" class="form-label">Due Date (YYYY-MM-DD):</label>
                                <input type="text" class="form-control" id="due_date" name="due_date">
                            </div>
                            <button type="submit" class="btn btn-primary">Create Task</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        Fetch Tasks by Date
                    </div>
                    <div class="card-body">
                        <form action="{{ url_for('fetch_tasks_by_date') }}" method="post">
                            <div class="mb-3">
                                <label for="due_date_fetch" class="form-label">Due Date:</label>
                                <input type="text" class="form-control" id="due_date_fetch" name="due_date">
                            </div>
                            <button type="submit" class="btn btn-primary">Fetch Tasks</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <ul class="list-group">
                    {% for task in tasks %}
                    <li class="list-group-item task-item">
                        {{ task[1] }} - {{ task[2] }} - Due: {{ task[3] }} - Status: {% if task[4] %}Completed{% else %}Pending{% endif %}
                        <!-- Inside the task list loop -->
                        <div class="task-actions float-end">
                            <a href="{{ url_for('edit_task', task_id=task[0]) }}" class="btn btn-sm btn-primary">Edit Task</a>
                            <form action="{{ url_for('update_task', task_id=task[0]) }}" method="post">
                                <button type="submit" class="btn btn-sm btn-success">Update Status</button>
                            </form>
                            <form class="delete-task-form" action="{{ url_for('delete_task', task_id=task[0]) }}" method="post" data-task-title="{{ task[1] }}">
                                <button type="submit" class="btn btn-sm btn-danger">Delete Task</button>
                            </form>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
            <div class="row mt-3">
                <div class="col-md-12">
                    <ul>
                        {% for message in messages %}
                        <li class="{{ message[1] }}">{{ message[0] }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            {% endif %}
        {% endwith %}
        <div class="about-section">
            <div class="container">
                <h2>About Student Task Manager</h2>
                <p>Welcome to the Student Task Manager, where organization meets simplicity. Our platform is designed to revolutionize the way students manage their tasks. With an intuitive interface and powerful features, Student Task Manager empowers users to stay on top of their academic and personal commitments. Whether it's tracking assignments, scheduling study sessions, or managing extracurricular activities, our platform offers the tools you need to succeed. Say goodbye to missed deadlines and hello to productivity with Student Task Manager.</p>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <!-- <p>Created with ❤️ by RADHE</p> -->
        </div>
    </footer>

    <script>
        // Client-side form validation
        document.addEventListener('DOMContentLoaded', function() {
            const createTaskForm = document.getElementById('createTaskForm');
            const titleInput = document.getElementById('title');
            const descriptionInput = document.getElementById('description');
            const dueDateInput = document.getElementById('due_date');

            createTaskForm.addEventListener('submit', function(event) {
                if (!titleInput.value.trim() || !descriptionInput.value.trim() || !dueDateInput.value.trim()) {
                    event.preventDefault();
                    alert('Please fill in all fields.');
                }
            });

            // Confirmation for task deletion
            const deleteForms = document.querySelectorAll('.delete-task-form');

            deleteForms.forEach(form => {
                form.addEventListener('submit', function(event) {
                    const taskTitle = form.dataset.taskTitle;
                    const confirmation = confirm(`Are you sure you want to delete the task "${taskTitle}"?`);

                    if (!confirmation) {
                        event.preventDefault();
                    }
                });
            });
        });
    </script>
</body>
</html>
